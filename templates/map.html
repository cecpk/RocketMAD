<!DOCTYPE html>
<html lang="{{lang}}">
  <head>
    {% if analytics_id %}
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id={{ analytics_id }}"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', '{{ analytics_id }}')
    </script>
    {% endif %}
    <title>{{ map_title }}</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"/>
    <link rel="apple-touch-icon" sizes="180x180" href="static/images/appicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="static/images/appicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="static/images/appicons/favicon-16x16.png">
    <link rel="manifest" href="static/images/appicons/site.webmanifest">
    <link rel="mask-icon" href="static/images/appicons/safari-pinned-tab.svg" color="black">
    <link rel="shortcut icon" href="static/images/appicons/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="static/images/appicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/materialize-css@1.0.0/dist/css/materialize.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/materialize-css@1.0.0/extras/noUiSlider/nouislider.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-fullscreen@1.0.2/dist/leaflet.fullscreen.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.markercluster@1.4.1/dist/MarkerCluster.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-geosearch@2.7.0/assets/css/leaflet.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/v/dt/dt-1.10.20/datatables.min.css"/>
    <link rel="stylesheet" href="{{ url_for('static', filename='dist/css/app.min.css') }}">
  </head>

  <body class="map-body">
    <header>
      <div class="navbar-fixed">
        <nav>
          <div class="nav-wrapper">
            <ul>
              <li><a href="javascript:void(0);" data-target="settings-sidenav" class="sidenav-trigger"><i class="material-icons">menu</i></a></li>
              <li>
                <a href="./" class="brand-logo">
                  {{ map_title }}{% if header_image %}<img src="static/images/header/{{ header_image_name }}" class="brand-logo-image" height="32">{% endif %}
                </a>
              </li>
            </ul>
            <ul class="right">
              {% set use_dropdown = discord_url or messenger_url or telegram_url or whatsapp_url or patreon_url or donate_url or madmin_url or pokemon_history_page or quest_page %}
              {% if use_dropdown %}
              <li><a class="dropdown-trigger hide-on-med-and-up" href="#" data-target="navbar-dropdown"><i class="material-icons">apps</i></a></li>
              {% endif %}
              {% if discord_url %}
              <li><a href="{{ discord_url }}" class="hide-on-small-only" title="Discord" target="_blank"><i class="fab fa-discord material-icons"></i></a></li>
              {% endif %}
              {% if messenger_url %}
              <li><a href="{{ messenger_url }}" class="hide-on-small-only" title="Messenger" target="_blank"><i class="fab fa-facebook-messenger material-icons"></i></a></li>
              {% endif %}
              {% if telegram_url %}
              <li><a href="{{ telegram_url }}" class="hide-on-small-only" title="Telegram" target="_blank"><i class="fab fa-telegram-plane material-icons"></i></a></li>
              {% endif %}
              {% if whatsapp_url %}
              <li><a href="{{ whatsapp_url }}" class="hide-on-small-only" title="WhatsApp" target="_blank"><i class="fab fa-whatsapp material-icons"></i></a></li>
              {% endif %}
              {% if patreon_url %}
              <li><a href="{{ patreon_url }}" class="hide-on-small-only" title="Patreon" target="_blank"><i class="fab fa-patreon material-icons"></i></a></li>
              {% endif %}
              {% if donate_url %}
              <li><a href="{{ donate_url }}" class="hide-on-small-only" title="{{ i18n('Donate') }}" target="_blank"><i class="material-icons">attach_money</i></a></li>
              {% endif %}
              {% if madmin_url %}
              <li><a href="{{ madmin_url }}" class="hide-on-small-only" title="MADmin" target="_blank"><i class="material-icons">info</i></a></li>
              {% endif %}
              <li><a data-target="weather-modal" id="weather-button" class="modal-trigger" title="Weather" style="display:none;"><i class="material-icons"></i></a></li>
              {% if pokemon_history_page %}
              <li><a href="pokemon-history" class="hide-on-small-only" title="Pokémon history"><i class="material-icons">pets</i></a></li>
              {% endif %}
              {% if quest_page %}
              <li><a href="quests" class="hide-on-small-only" title="Quests"><i class="material-icons">explore</i></a></li>
              {% endif %}
              {% if client_auth %}
              {% if logged_in %}
              <li><a href="logout" class="hide-on-small-only" title="Log out"><i class="material-icons">exit_to_app</i></a></li>
              {% else %}
              <li><a href="login" class="hide-on-small-only" title="Log in"><i class="material-icons">account_box</i></a></li>
              {% endif %}
              {% endif %}
              {% if settings.statsSidebar %}
              <li><a href="javascript:void(0);" data-target="stats-sidenav" class="sidenav-trigger" title="{{ i18n('Live stats') }}"><i class="material-icons">equalizer</i></a></li>
              {% endif %}
            </ul>
          </div>
        </nav>
      </div>
    </header>

    {% if use_dropdown %}
    <ul id="navbar-dropdown" class="dropdown-content">
      {% if pokemon_history_page %}
      <li><a href="pokemon-history"><i class="material-icons">pets</i>Pokémon history</a></li>
      {% endif %}
      {% if quest_page %}
      <li><a href="quests"><i class="material-icons">explore</i>Quests</a></li>
      {% endif %}
      {% if madmin_url %}
      <li><a href="{{ madmin_url }}" target="_blank"><i class="material-icons">info</i>MADmin</a></li>
      {% endif %}
      {% if client_auth %}
      {% if logged_in %}
      <li><a href="logout"><i class="material-icons">exit_to_app</i>Log out</a></li>
      {% else %}
      <li><a href="login"><i class="material-icons">account_box</i>Log in</a></li>
      {% endif %}
      {% endif %}
      {% if donate_url or patreon_url %}
      <li class="divider" tabindex="-1"></li>
      {% endif %}
      {% if donate_url %}
      <li><a href="{{ donate_url }}" target="_blank"><i class="material-icons">attach_money</i>{{ i18n('Donate') }}</a></li>
      {% endif %}
      {% if patreon_url %}
      <li><a href="{{ patreon_url }}" target="_blank"><i class="fab fa-patreon"></i>Patreon</a></li>
      {% endif %}
      {% if discord_url or messenger_url or telegram_url or whatsapp_url %}
      <li class="divider" tabindex="-1"></li>
      {% endif %}
      {% if discord_url %}
      <li><a href="{{ discord_url }}" target="_blank"><i class="fab fa-discord"></i>Discord</a></li>
      {% endif %}
      {% if messenger_url %}
      <li><a href="{{ messenger_url }}" target="_blank"><i class="fab fa-facebook-messenger"></i>Messenger</a></li>
      {% endif %}
      {% if telegram_url %}
      <li><a href="{{ telegram_url }}" target="_blank"><i class="fab fa-telegram-plane"></i>Telegram</a></li>
      {% endif %}
      {% if whatsapp_url %}
      <li><a href="{{ whatsapp_url }}" target="_blank"><i class="fab fa-whatsapp"></i>WhatsApp</a></li>
      {% endif %}
    </ul>
    {% endif %}

    {% if settings.motd %}
    <div id="motd-modal" class="modal">
      <div class="modal-content">
        <h4 id="motd-title"></h4>
        <span id="motd-content"></span>
      </div>
    </div>
    {% endif %}

    <div id="image-modal" class="modal">
      <div class="modal-content">
        <h5></h5>
        <img class="responsive-img">
      </div>
    </div>

    {% if settings.pokemons %}
    <div id="pokemon-filter-modal" class="modal filter-modal pokemon-filter-modal">
      <div class="modal-content">
        <h6 id="filter-pokemon-title">Pokémon</h6>
        <label for="exclude-pokemon">
          <input id="exclude-pokemon" type="text" readonly="true" style="display:none;">
          <div class="pokemon-filter-list"></div>
          <div class="filter-footer-container">
            <div class="filter-footer-left">
              <a class="btn-flat tooltipped search-info-btn" data-html="true" data-position="top" data-tooltip="{{ i18n('You can search for: Name, ID, Type and Generation. Multiple search terms can be used by separating them with commas. Exclusion is possible by prepending \'-\' to a search term.') }}"><i class="material-icons">info_outline</i></a>
              <input type="search" class="search" placeholder="{{ i18n('Search...') }}">
            </div>
            <div class="filter-footer-right">
              <a class="waves-effect btn-flat pokemon-select-filtered" style="display:none;"><i class="material-icons" title="{{ i18n('Select all') }}">select_all</i></a>
              <a class="waves-effect btn-flat pokemon-deselect-filtered" style="display:none;"><i class="material-icons" title="{{ i18n('Deselect all') }}">clear</i></a>
              <a class="waves-effect btn-flat pokemon-select-all"><i class="material-icons" title="{{ i18n('Select all') }}">select_all</i></a>
              <a class="waves-effect btn-flat pokemon-deselect-all"><i class="material-icons" title="{{ i18n('Deselect all') }}">clear</i></a>
            </div>
          </div>
        </label>
      </div>
    </div>
    {% endif %}

    {% if settings.pokemonValues %}
    <div id="pokemon-values-filter-modal" class="modal filter-modal pokemon-filter-modal">
      <div class="modal-content">
        <h6 id="filter-values-pokemon-title">Pokémon filtered by values</h6>
        <label for="unfiltered-pokemon">
          <input id="unfiltered-pokemon" type="text" readonly="true" style="display:none;">
          <div class="pokemon-filter-list"></div>
          <div class="filter-footer-container">
            <div class="filter-footer-left">
              <a class="btn-flat tooltipped search-info-btn" data-html="true" data-position="top" data-tooltip="{{ i18n('You can search for: Name, ID, Type and Generation. Multiple search terms can be used by separating them with commas. Exclusion is possible by prepending \'-\' to a search term.') }}"><i class="material-icons">info_outline</i></a>
              <input type="search" class="search" placeholder="{{ i18n('Search...') }}">
            </div>
            <div class="filter-footer-right">
              <a class="waves-effect btn-flat pokemon-select-filtered" style="display:none;"><i class="material-icons" title="{{ i18n('Select all') }}">select_all</i></a>
              <a class="waves-effect btn-flat pokemon-deselect-filtered" style="display:none;"><i class="material-icons" title="{{ i18n('Deselect all') }}">clear</i></a>
              <a class="waves-effect btn-flat pokemon-select-all"><i class="material-icons" title="{{ i18n('Select all') }}">select_all</i></a>
              <a class="waves-effect btn-flat pokemon-deselect-all"><i class="material-icons" title="{{ i18n('Deselect all') }}">clear</i></a>
            </div>
          </div>
        </label>
      </div>
    </div>
    {% endif %}

    {% if settings.raidFilters %}
    <div id="raid-pokemon-filter-modal" class="modal filter-modal pokemon-filter-modal">
      <div class="modal-content">
        <h6 id="filter-raid-pokemon-title">Raid Bosses</h6>
        <label for="exclude-raid-pokemon">
          <input id="exclude-raid-pokemon" type="text" readonly="true" style="display:none;">
          <div class="pokemon-filter-list"></div>
          <div class="filter-footer-container">
            <div class="filter-footer-left">
              <a class="btn-flat tooltipped search-info-btn" data-html="true" data-position="top" data-tooltip="{{ i18n('You can search for: Name, ID, Type and Generation. Multiple search terms can be used by separating them with commas. Exclusion is possible by prepending \'-\' to a search term.') }}"><i class="material-icons">info_outline</i></a>
              <input type="search" class="search" placeholder="{{ i18n('Search...') }}">
            </div>
            <div class="filter-footer-right">
              <a class="waves-effect btn-flat pokemon-select-filtered" style="display:none;"><i class="material-icons" title="{{ i18n('Select all') }}">select_all</i></a>
              <a class="waves-effect btn-flat pokemon-deselect-filtered" style="display:none;"><i class="material-icons" title="{{ i18n('Deselect all') }}">clear</i></a>
              <a class="waves-effect btn-flat pokemon-select-all"><i class="material-icons" title="{{ i18n('Select all') }}">select_all</i></a>
              <a class="waves-effect btn-flat pokemon-deselect-all"><i class="material-icons" title="{{ i18n('Deselect all') }}">clear</i></a>
            </div>
          </div>
        </label>
      </div>
    </div>
    {% endif %}

    {% if settings.quests %}
    <div id="quest-filter-modal" class="modal filter-modal quest-filter-modal">
      <div class="modal-content">
        <ul id ="quest-filter-tabs" class="tabs quest-filter-tabs">
          <li class="tab"><a href="#quest-pokemon-tab" class="active">Quest Pokémon</a></li>
          <li class="tab"><a href="#quest-item-tab">Quest Items</a></li>
        </ul>
        <div id="quest-pokemon-tab">
          <label for="exclude-quest-pokemon">
            <input id="exclude-quest-pokemon" type="text" readonly="true" style="display:none;">
            <div class="pokemon-filter-list"></div>
            <div class="filter-footer-container">
              <div class="filter-footer-left">
                <a class="btn-flat tooltipped search-info-btn" data-html="true" data-position="top" data-tooltip="{{ i18n('You can search for: Name, ID, Type and Generation. Multiple search terms can be used by separating them with commas. Exclusion is possible by prepending \'-\' to a search term.') }}"><i class="material-icons">info_outline</i></a>
                <input type="search" class="search" placeholder="{{ i18n('Search...') }}">
              </div>
              <div class="filter-footer-right">
                <a class="waves-effect btn-flat pokemon-select-filtered" style="display:none;"><i class="material-icons" title="{{ i18n('Select all') }}">select_all</i></a>
                <a class="waves-effect btn-flat pokemon-deselect-filtered" style="display:none;"><i class="material-icons" title="{{ i18n('Deselect all') }}">clear</i></a>
                <a class="waves-effect btn-flat pokemon-select-all"><i class="material-icons" title="{{ i18n('Select all') }}">select_all</i></a>
                <a class="waves-effect btn-flat pokemon-deselect-all"><i class="material-icons" title="{{ i18n('Deselect all') }}">clear</i></a>
              </div>
            </div>
          </label>
        </div>
        <div id="quest-item-tab">
          <label for="exclude-quest-items">
            <input id="exclude-quest-items" type="text" readonly="true" style="display:none;">
            <div class="quest-item-filter-list"></div>
            <div class="filter-footer-container">
              <div></div>
              <div class="filter-footer-right">
                <a class="waves-effect btn-flat quest-item-select-all"><i class="material-icons" title="{{ i18n('Select all') }}">select_all</i></a>
                <a class="waves-effect btn-flat quest-item-deselect-all"><i class="material-icons" title="{{ i18n('Deselect all') }}">clear</i></a>
              </div>
            </div>
          </label>
        </div>
      </div>
    </div>
    {% endif %}

    {% if settings.invasions %}
    <div id="invasion-filter-modal" class="modal filter-modal invasion-filter-modal">
      <div class="modal-content">
        <h6 id="filter-invasion-title">Rocket Invasions</h6>
        <label for="exclude-invasions">
          <input id="exclude-invasions" type="text" readonly="true" style="display:none;">
          <div class="invasion-filter-list"></div>
          <div class="filter-footer-container">
            <div></div>
            <div class="filter-footer-right">
              <a class="waves-effect btn-flat invasion-select-all"><i class="material-icons" title="{{ i18n('Select all') }}">select_all</i></a>
              <a class="waves-effect btn-flat invasion-deselect-all"><i class="material-icons" title="{{ i18n('Deselect all') }}">clear</i></a>
            </div>
          </div>
        </label>
      </div>
    </div>
    {% endif %}

    {% if settings.weather %}
    <div id="weather-modal" class="modal">
      <div class="modal-content">
        <h4>Weather</h4>
        <div id="weather-modal-image"><img src="" width="192"></div>
        <h5>{{ i18n('Boosted Types') }}</h5>
        <div id="boosted-types-container"></div>
      </div>
    </div>
    {% endif %}

    {% if settings.pokemons %}
    <div id="notif-pokemon-filter-modal" class="modal filter-modal pokemon-filter-modal">
      <div class="modal-content">
        <h6 id="notif-pokemon-filter-title">Notif Pokémon</h6>
        <label for="no-notif-pokemon">
          <input id="no-notif-pokemon" type="text" readonly="true" style="display:none;">
          <div class="pokemon-filter-list"></div>
          <div class="filter-footer-container">
            <div class="filter-footer-left">
              <a class="btn-flat tooltipped search-info-btn" data-html="true" data-position="top" data-tooltip="{{ i18n('You can search for: Name, ID, Type and Generation. Multiple search terms can be used by separating them with commas. Exclusion is possible by prepending \'-\' to a search term.') }}"><i class="material-icons">info_outline</i></a>
              <input type="search" class="search" placeholder="{{ i18n('Search...') }}">
            </div>
            <div class="filter-footer-right">
              <a class="waves-effect btn-flat pokemon-select-filtered" style="display:none;"><i class="material-icons" title="{{ i18n('Select all') }}">select_all</i></a>
              <a class="waves-effect btn-flat pokemon-deselect-filtered" style="display:none;"><i class="material-icons" title="{{ i18n('Deselect all') }}">clear</i></a>
              <a class="waves-effect btn-flat pokemon-select-all"><i class="material-icons" title="{{ i18n('Select all') }}">select_all</i></a>
              <a class="waves-effect btn-flat pokemon-deselect-all"><i class="material-icons" title="{{ i18n('Deselect all') }}">clear</i></a>
            </div>
          </div>
        </label>
      </div>
    </div>
    {% endif %}

    {% if settings.pokemonValues %}
    <div id="notif-pokemon-values-filter-modal" class="modal filter-modal pokemon-filter-modal">
      <div class="modal-content">
        <h6 id="notif-pokemon-values-filter-title">Notif Pokémon filtered by values</h6>
        <label for="no-notif-values-pokemon">
          <input id="no-notif-values-pokemon" type="text" readonly="true" style="display:none;">
          <div class="pokemon-filter-list"></div>
          <div class="filter-footer-container">
            <div class="filter-footer-left">
              <a class="btn-flat tooltipped search-info-btn" data-html="true" data-position="top" data-tooltip="{{ i18n('You can search for: Name, ID, Type and Generation. Multiple search terms can be used by separating them with commas. Exclusion is possible by prepending \'-\' to a search term.') }}"><i class="material-icons">info_outline</i></a>
              <input type="search" class="search" placeholder="{{ i18n('Search...') }}">
            </div>
            <div class="filter-footer-right">
              <a class="waves-effect btn-flat pokemon-select-filtered" style="display:none;"><i class="material-icons" title="{{ i18n('Select all') }}">select_all</i></a>
              <a class="waves-effect btn-flat pokemon-deselect-filtered" style="display:none;"><i class="material-icons" title="{{ i18n('Deselect all') }}">clear</i></a>
              <a class="waves-effect btn-flat pokemon-select-all"><i class="material-icons" title="{{ i18n('Select all') }}">select_all</i></a>
              <a class="waves-effect btn-flat pokemon-deselect-all"><i class="material-icons" title="{{ i18n('Deselect all') }}">clear</i></a>
            </div>
          </div>
        </label>
      </div>
    </div>
    {% endif %}

    {% if settings.raids %}
    <div id="notif-raid-pokemon-filter-modal" class="modal filter-modal pokemon-filter-modal">
      <div class="modal-content">
        <h6 id="notif-raid-pokemon-filter-title">Notif Raid Bosses</h6>
        <label for="no-notif-raid-pokemon">
          <input id="no-notif-raid-pokemon" type="text" readonly="true" style="display:none;">
          <div class="pokemon-filter-list"></div>
          <div class="filter-footer-container">
            <div class="filter-footer-left">
              <a class="btn-flat tooltipped search-info-btn" data-html="true" data-position="top" data-tooltip="{{ i18n('You can search for: Name, ID, Type and Generation. Multiple search terms can be used by separating them with commas. Exclusion is possible by prepending \'-\' to a search term.') }}"><i class="material-icons">info_outline</i></a>
              <input type="search" class="search" placeholder="{{ i18n('Search...') }}">
            </div>
            <div class="filter-footer-right">
              <a class="waves-effect btn-flat pokemon-select-filtered" style="display:none;"><i class="material-icons" title="{{ i18n('Select all') }}">select_all</i></a>
              <a class="waves-effect btn-flat pokemon-deselect-filtered" style="display:none;"><i class="material-icons" title="{{ i18n('Deselect all') }}">clear</i></a>
              <a class="waves-effect btn-flat pokemon-select-all"><i class="material-icons" title="{{ i18n('Select all') }}">select_all</i></a>
              <a class="waves-effect btn-flat pokemon-deselect-all"><i class="material-icons" title="{{ i18n('Deselect all') }}">clear</i></a>
            </div>
          </div>
        </label>
      </div>
    </div>
    {% endif %}

    {% if settings.quests %}
    <div id="notif-quest-filter-modal" class="modal filter-modal quest-filter-modal">
      <div class="modal-content">
        <ul id ="notif-quest-filter-tabs" class="tabs quest-filter-tabs">
          <li class="tab"><a href="#notif-quest-pokemon-tab" class="active">Notif Quest Pokémon</a></li>
          <li class="tab"><a href="#notif-quest-item-tab">Notif Quest Items</a></li>
        </ul>
        <div id="notif-quest-pokemon-tab">
          <label for="no-notif-quest-pokemon">
            <input id="no-notif-quest-pokemon" type="text" readonly="true" style="display:none;">
            <div class="pokemon-filter-list"></div>
            <div class="filter-footer-container">
              <div class="filter-footer-left">
                <a class="btn-flat tooltipped search-info-btn" data-html="true" data-position="top" data-tooltip="{{ i18n('You can search for: Name, ID, Type and Generation. Multiple search terms can be used by separating them with commas. Exclusion is possible by prepending \'-\' to a search term.') }}"><i class="material-icons">info_outline</i></a>
                <input type="search" class="search" placeholder="{{ i18n('Search...') }}">
              </div>
              <div class="filter-footer-right">
                <a class="waves-effect btn-flat pokemon-select-filtered" style="display:none;"><i class="material-icons" title="{{ i18n('Select all') }}">select_all</i></a>
                <a class="waves-effect btn-flat pokemon-deselect-filtered" style="display:none;"><i class="material-icons" title="{{ i18n('Deselect all') }}">clear</i></a>
                <a class="waves-effect btn-flat pokemon-select-all"><i class="material-icons" title="Select all">select_all</i></a>
                <a class="waves-effect btn-flat pokemon-deselect-all"><i class="material-icons" title="Deselect all">clear</i></a>
              </div>
            </div>
          </label>
        </div>
        <div id="notif-quest-item-tab">
          <label for="no-notif-quest-items">
            <input id="no-notif-quest-items" type="text" readonly="true" style="display:none;">
            <div class="quest-item-filter-list"></div>
            <div class="filter-footer-container">
              <div></div>
              <div class="filter-footer-right">
                <a class="waves-effect btn-flat quest-item-select-all"><i class="material-icons" title="{{ i18n('Select all') }}">select_all</i></a>
                <a class="waves-effect btn-flat quest-item-deselect-all"><i class="material-icons" title="{{ i18n('Deselect all') }}">clear</i></a>
              </div>
            </div>
          </label>
        </div>
      </div>
    </div>
    {% endif %}

    {% if settings.invasions %}
    <div id="notif-invasion-filter-modal" class="modal filter-modal invasion-filter-modal">
      <div class="modal-content">
        <h6 id="notif-invasion-filter-title">Notif Rocket Invasions</h6>
        <label for="no-notif-invasions">
          <input id="no-notif-invasions" type="text" readonly="true" style="display:none;">
          <div class="invasion-filter-list"></div>
          <div class="filter-footer-container">
            <div></div>
            <div class="filter-footer-right">
              <a class="waves-effect btn-flat invasion-select-all"><i class="material-icons" title="{{ i18n('Select all') }}">select_all</i></a>
              <a class="waves-effect btn-flat invasion-deselect-all"><i class="material-icons" title="{{ i18n('Deselect all') }}">clear</i></a>
            </div>
          </div>
        </label>
      </div>
    </div>
    {% endif %}

    {% if settings.pokemons or settings.raids or settings.quests %}
    <div id="import-pokemon-list-modal" class="modal">
      <div class="modal-content">
        <h4>{{ i18n('Import Pokémon list') }}</h4>
        <p>
          <form action="#">
            <div class="file-field input-field">
              <div class="btn">
                <span>{{ i18n('File') }}</span>
                <input id="pokemon-list-file" type="file" accept=".txt">
              </div>
              <div class="file-path-wrapper">
                <input class="file-path validate" type="text">
              </div>
            </div>
          </form>
        </p>
        <p>{{ i18n('Import to') }}:</p>
        {% if settings.pokemons %}
        <p>
          <label>
            <input type="checkbox" id="import-pokemon-checkbox"/>
            <span>{{ i18n('Pokémon filter') }}</span>
          </label>
        </p>
        {% endif %}
        {% if settings.pokemonValues %}
        <p>
          <label>
            <input type="checkbox" id="import-values-pokemon-checkbox"/>
            <span>{{ i18n('Pokémon values filter') }}</span>
          </label>
        </p>
        {% endif %}
        {% if settings.raidFilters %}
        <p>
          <label>
            <input type="checkbox" id="import-raid-pokemon-checkbox"/>
            <span>{{ i18n('Raid Boss filter') }}</span>
          </label>
        </p>
        {% endif %}
        {% if settings.quests %}
        <p>
          <label>
            <input type="checkbox" id="import-quest-pokemon-checkbox"/>
            <span>{{ i18n('Quest Pokémon filter') }}</span>
          </label>
        </p>
        {% endif %}
        {% if settings.pokemons %}
        <p>
          <label>
            <input type="checkbox" id="import-notif-pokemon-checkbox"/>
            <span>{{ i18n('Pokémon notification filter') }}</span>
          </label>
        </p>
        {% endif %}
        {% if settings.pokemonValues %}
        <p>
          <label>
            <input type="checkbox" id="import-notif-values-pokemon-checkbox"/>
            <span>{{ i18n('Pokémon values notification filter') }}</span>
          </label>
        </p>
        {% endif %}
        {% if settings.raids %}
        <p>
          <label>
            <input type="checkbox" id="import-notif-raid-pokemon-checkbox"/>
            <span>{{ i18n('Raid Boss notification filter') }}</span>
          </label>
        </p>
        {% endif %}
        {% if settings.quests %}
        <p>
          <label>
            <input type="checkbox" id="import-notif-quest-pokemon-checkbox"/>
            <span>{{ i18n('Quest Pokémon notification filter') }}</span>
          </label>
        </p>
        {% endif %}
        <a id="import-pokemon-list" class="waves-effect waves-light btn"><i class="material-icons left">file_download</i>{{ i18n('Import') }}</a>
      </div>
    </div>

    <div id="export-pokemon-list-modal" class="modal">
      <div class="modal-content">
        <h4>{{ i18n('Export Pokémon lists') }}</h4>
        {% if settings.pokemons %}
        <p><a id="export-pokemon-button" class="waves-effect waves-teal btn-flat"><i class="material-icons left">file_upload</i>{{ i18n('Pokémon list') }}</a></p>
        {% endif %}
        {% if settings.pokemonValues %}
        <p><a id="export-values-pokemon-button" class="waves-effect waves-teal btn-flat"><i class="material-icons left">file_upload</i>{{ i18n('Pokémon values list') }}</a></p>
        {% endif %}
        {% if settings.raids %}
        <p><a id="export-raid-pokemon-button" class="waves-effect waves-teal btn-flat"><i class="material-icons left">file_upload</i>{{ i18n('Raid Bosses list') }}</a></p>
        {% endif %}
        {% if settings.quests %}
        <p><a id="export-quest-pokemon-button" class="waves-effect waves-teal btn-flat"><i class="material-icons left">file_upload</i>{{ i18n('Quest Pokémon list') }}</a></p>
        {% endif %}
        {% if settings.pokemons %}
        <p><a id="export-notif-pokemon-button" class="waves-effect waves-teal btn-flat"><i class="material-icons left">file_upload</i>{{ i18n('Pokémon notifications list') }}</a></p>
        {% endif %}
        {% if settings.pokemonValues %}
        <p><a id="export-notif-values-pokemon-button" class="waves-effect waves-teal btn-flat"><i class="material-icons left">file_upload</i>{{ i18n('Pokémon values notifications list') }}</a></p>
        {% endif %}
        {% if settings.raids %}
        <p><a id="export-notif-raid-pokemon-button" class="waves-effect waves-teal btn-flat"><i class="material-icons left">file_upload</i>{{ i18n('Raid Boss notifications list') }}</a></p>
        {% endif %}
        {% if settings.quests %}
        <p><a id="export-notif-quest-pokemon-button" class="waves-effect waves-teal btn-flat"><i class="material-icons left">file_upload</i>{{ i18n('Quest Pokémon notifications list') }}</a></p>
        {% endif %}
      </div>
    </div>
    {% endif %}

    <ul id="settings-sidenav" class="sidenav collapsible">
      {% if settings.pokemons %}
      <li>
        <div class="collapsible-header"><i class="material-icons">pets</i>{{ i18n('Pokémon') }}</div>
        <div class="collapsible-body">
          <div class="settings-container">
            <div class="form-control">
              <div class="switch">
                <label>
                  <input type="checkbox" id="pokemon-switch">
                  <span class="lever"></span>
                  {{ i18n('Pokémon') }}
                </label>
              </div>
            </div>
            <div class="pokemon-filters-wrapper">
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="filter-pokemon-switch">
                    <span class="lever"></span>
                    {{ i18n('Filter Pokémon') }}
                  </label>
                  <a data-target="pokemon-filter-modal" class="waves-effect btn-flat modal-trigger filter-button" title="{{ i18n('Select Pokémon') }}"><i class="material-icons left">filter_list</i></a>
                </div>
              </div>
              <div class="form-control">
                <div class="input-field">
                  <div class="select-title">{{ i18n('Icon size') }}</div>
                  <select id="pokemon-icon-size-select">
                    <option value="50">{{ i18n('X-Small') }}</option>
                    <option value="75">{{ i18n('Small') }}</option>
                    <option value="100">{{ i18n('Normal') }}</option>
                    <option value="150">{{ i18n('Large') }}</option>
                    <option value="200">{{ i18n('X-Large') }}</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
          <div class="pokemon-filters-wrapper">
            {% if settings.pokemonValues %}
            <div class="settings-container">
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="pokemon-values-switch">
                    <span class="lever"></span>
                    {{ i18n('Pokémon values') }}
                  </label>
                </div>
              </div>
              <div id="filter-pokemon-values-wrapper">
                <div class="form-control">
                  <div class="switch">
                    <label>
                      <input type="checkbox" id="filter-values-switch">
                      <span class="lever"></span>
                      {{ i18n('Filter by values') }}
                    </label>
                    <a data-target="pokemon-values-filter-modal" class="waves-effect btn-flat modal-trigger filter-button" title="{{ i18n('Select Pokémon') }}"><i class="material-icons left">filter_list</i></a>
                  </div>
                </div>
                <div id="pokemon-values-filters-wrapper">
                  <div id="zero-ivs-pokemon-switch-wrapper">
                    <div class="form-control">
                      <div class="switch">
                        <label>
                          <input type="checkbox" id="zero-ivs-pokemon-switch">
                          <span class="lever"></span>
                          {{ i18n('0% IV Pokémon') }}
                        </label>
                      </div>
                    </div>
                  </div>
                  <div id="hundo-ivs-pokemon-switch-wrapper">
                    <div class="form-control">
                      <div class="switch">
                        <label>
                          <input type="checkbox" id="hundo-ivs-pokemon-switch">
                          <span class="lever"></span>
                          {{ i18n('100% IV Pokémon') }}
                        </label>
                      </div>
                    </div>
                  </div>
                  <div class="form-control">
                    <span id="pokemon-ivs-slider-title" class="slider-title">IVs</span>
                    <div class="slider-container">
                      <div id="pokemon-ivs-slider"></div>
                    </div>
                  </div>
                  <div class="form-control">
                    <span id="pokemon-level-slider-title" class="slider-title">Levels</span>
                    <div class="slider-container">
                      <div id="pokemon-level-slider"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            {% endif %}
            {% if settings.rarity %}
            <div class="settings-container">
              <div class="form-control">
                <div class="input-field">
                  <div class="select-title">{{ i18n('Rarity') }}</div>
                  <select id="rarity-select" multiple>
                    <option value="1">{{ i18n('Common') }}</option>
                    <option value="2">{{ i18n('Uncommon') }}</option>
                    <option value="3">{{ i18n('Rare') }}</option>
                    <option value="4">{{ i18n('Very Rare') }}</option>
                    <option value="5">{{ i18n('Ultra Rare') }}</option>
                    <option value="6">{{ i18n('New Spawn') }}</option>
                  </select>
                </div>
              </div>
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="scale-rarity-switch">
                    <span class="lever"></span>
                    {{ i18n('Scale by rarity') }}
                  </label>
                </div>
              </div>
            </div>
            {% endif %}
          </div>
        </div>
      </li>
      {% endif %}
      {% if settings.gyms or settings.raids %}
      <li>
        {% if settings.gyms and settings.raids %}
        <div class="collapsible-header"><i class="material-icons">security</i>{{ i18n('Gyms & Raids') }}</div>
        {% elif settings.gyms %}
        <div class="collapsible-header"><i class="material-icons">security</i>{{ i18n('Gyms') }}</div>
        {% else %}
        <div class="collapsible-header"><i class="material-icons">security</i>{{ i18n('Raids') }}</div>
        {% endif %}
        <div class="collapsible-body">
          <div id="gym-name-filter-sidebar-wrapper">
            <div class="settings-container">
              <div class="form-control">
                <div class="input-field">
                  <div class="text-input-title">{{ i18n('Name includes') }}</div>
                  <input placeholder="{{ i18n('Filter...') }}" id="gym-name-filter" type="text">
                </div>
              </div>
              {% if settings.gymSidebar %}
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="gym-sidebar-switch">
                    <span class="lever"></span>
                    {{ i18n('Gym sidebar') }}
                  </label>
                </div>
              </div>
              {% endif %}
            </div>
          </div>
          {% if settings.gyms %}
          <div class="settings-container">
            <div class="form-control">
              <div class="switch">
                <label>
                  <input type="checkbox" id="gym-switch">
                  <span class="lever"></span>
                  {{ i18n('Gyms') }}
                </label>
              </div>
            </div>
            {% if settings.gymFilters %}
            <div id="gym-filters-wrapper">
              <div class="form-control">
                <div class="input-field">
                  <div class="select-title">{{ i18n('Teams') }}</div>
                  <select id="gym-team-select" multiple>
                    <option value="0">{{ i18n('Uncontested') }}</option>
                    <option value="1">{{ i18n('Mystic') }}</option>
                    <option value="2">{{ i18n('Valor') }}</option>
                    <option value="3">{{ i18n('Instinct') }}</option>
                  </select>
                </div>
              </div>
              <div class="form-control">
                <span id="gym-level-slider-title" class="slider-title">Gym levels</span>
                <div class="slider-container">
                  <div id="gym-level-slider"></div>
                </div>
              </div>
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="gym-open-spot-switch">
                    <span class="lever"></span>
                    {{ i18n('Open spot only') }}
                  </label>
                </div>
              </div>
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="gym-ex-eligible-switch">
                    <span class="lever"></span>
                    {{ i18n('EX eligible Gyms only') }}
                  </label>
                </div>
              </div>
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="gym-in-battle-switch">
                    <span class="lever"></span>
                    {{ i18n('Gyms in battle only') }}
                  </label>
                </div>
              </div>
              <div class="form-control">
                <div class="input-field">
                  <div class="select-title">{{ i18n('Last scanned') }}</div>
                  <select id="gym-last-scanned-select">
                    <option value="0">{{ i18n('Any time') }}</option>
                    <option value="1">{{ i18n('Within last hour') }}</option>
                    <option value="6">{{ i18n('Within last 6 hours') }}</option>
                    <option value="12">{{ i18n('Within last 12 hours') }}</option>
                    <option value="24">{{ i18n('Within last day') }}</option>
                    <option value="168">{{ i18n('Within last week') }}</option>
                    <option value="730">{{ i18n('Within last month') }}</option>
                    <option value="4380">{{ i18n('Within last 6 months') }}</option>
                    <option value="8760">{{ i18n('Within last year') }}</option>
                  </select>
                </div>
              </div>
            </div>
            {% endif %}
          </div>
          {% endif %}
          {% if settings.raids %}
          <div class="settings-container">
            <div class="form-control">
              <div class="switch">
                <label>
                  <input type="checkbox" id="raid-switch">
                  <span class="lever"></span>
                  {{ i18n('Raids') }}
                </label>
              </div>
            </div>
            {% if settings.raidFilters %}
            <div id="raid-filters-wrapper">
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="filter-raid-pokemon-switch">
                    <span class="lever"></span>
                    {{ i18n('Filter Raid Bosses') }}
                  </label>
                  <a data-target="raid-pokemon-filter-modal" class="waves-effect btn-flat modal-trigger filter-button" title="{{ i18n('Select Pokémon') }}"><i class="material-icons left">filter_list</i></a>
                </div>
              </div>
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="raid-active-switch">
                    <span class="lever"></span>
                    {{ i18n('Active Raids only') }}
                  </label>
                </div>
              </div>
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="raid-ex-eligible-switch">
                    <span class="lever"></span>
                    {{ i18n('EX eligible Raids only') }}
                  </label>
                </div>
              </div>
              <div class="form-control">
                <div class="input-field">
                  <div class="select-title">{{ i18n('Raid levels') }}</div>
                  <select id="raid-level-select" multiple>
                    <option value="1">{{ i18n('Level 1') }}</option>
                    <option value="2">{{ i18n('Level 2') }}</option>
                    <option value="3">{{ i18n('Level 3') }}</option>
                    <option value="4">{{ i18n('Level 4') }}</option>
                    <option value="5">{{ i18n('Level 5') }}</option>
                  </select>
                </div>
              </div>
            </div>
            {% endif %}
          </div>
          {% endif %}
        </div>
      </li>
      {% endif %}
      {% if settings.pokestops %}
      <li>
        <div class="collapsible-header"><i class="material-icons">nature</i>{{ i18n('PokéStops') }}</div>
        <div class="collapsible-body">
          <div class="settings-container">
            <div class="form-control">
              <div class="switch">
                <label>
                  <input type="checkbox" id="pokestop-switch">
                  <span class="lever"></span>
                  {{ i18n('PokéStops') }}
                </label>
              </div>
            </div>
            <div class="pokestop-filters-wrapper">
              <div class="form-control">
                <div class="input-field">
                  <div class="text-input-title">{{ i18n('Name includes') }}</div>
                  <input placeholder="{{ i18n('Filter...') }}" id="pokestop-name-filter" type="text">
                </div>
              </div>
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="pokestop-no-event-switch">
                    <span class="lever"></span>
                    {{ i18n('PokéStops without event') }}
                  </label>
                </div>
              </div>
            </div>
          </div>
          <div class="pokestop-filters-wrapper">
            {% if settings.quests %}
            <div class="settings-container">
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="quest-switch">
                    <span class="lever"></span>
                    {{ i18n('Quests') }}
                  </label>
                </div>
              </div>
              <div id="filter-quests-switch-wrapper">
                <div class="form-control">
                  <div class="switch">
                    <label>
                      <input type="checkbox" id="filter-quests-switch">
                      <span class="lever"></span>
                      {{ i18n('Filter Quests') }}
                    </label>
                    <a data-target="quest-filter-modal" class="waves-effect btn-flat modal-trigger filter-button" title="{{ i18n('Select rewards') }}"><i class="material-icons left">filter_list</i></a>
                  </div>
                </div>
              </div>
            </div>
            {% endif %}
            {% if settings.invasions %}
            <div class="settings-container">
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="invasion-switch">
                    <span class="lever"></span>
                    {{ i18n('Rocket Invasions') }}
                  </label>
                </div>
              </div>
              <div id="filter-invasions-switch-wrapper">
                <div class="form-control">
                  <div class="switch">
                    <label>
                      <input type="checkbox" id="filter-invasions-switch">
                      <span class="lever"></span>
                      {{ i18n('Filter Rocket Invasions') }}
                    </label>
                    <a data-target="invasion-filter-modal" class="waves-effect btn-flat modal-trigger filter-button" title="{{ i18n('Select Rocket Invasions') }}"><i class="material-icons left">filter_list</i></a>
                  </div>
                </div>
              </div>
            </div>
            {% endif %}
            {% if settings.lures %}
            <div class="settings-container">
              <div class="form-control">
                <div class="input-field">
                  <div class="select-title">{{ i18n('Lures') }}</div>
                  <select id="lure-type-select" multiple>
                    <option value="501">{{ i18n('Normal Lures') }}</option>
                    <option value="502">{{ i18n('Glacial Lures') }}</option>
                    <option value="504">{{ i18n('Magnetic Lures') }}</option>
                    <option value="503">{{ i18n('Mossy Lures') }}</option>
                  </select>
                </div>
              </div>
            </div>
            {% endif %}
          </div>
        </div>
      </li>
      {% endif %}
      {% if settings.weather %}
      <li>
        <div class="collapsible-header"><i class="material-icons">cloud</i>{{ i18n('Weather') }}</div>
        <div class="collapsible-body">
          <div class="settings-container">
            <div class="form-control">
              <div class="switch">
                <label>
                  <input type="checkbox" id="weather-switch">
                  <span class="lever"></span>
                  {{ i18n('Weather') }}
                </label>
              </div>
            </div>
            <div id="weather-forms-wrapper">
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="weather-cells-switch">
                    <span class="lever"></span>
                    {{ i18n('Weather cells') }}
                  </label>
                </div>
              </div>
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="main-weather-switch">
                    <span class="lever"></span>
                    {{ i18n('Main weather in header') }}
                  </label>
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      {% endif %}
      {% if settings.s2Cells %}
      <li>
        <div class="collapsible-header"><i class="material-icons">grid_on</i>{{ i18n('S2 cells') }}</div>
        <div class="collapsible-body">
          <div class="settings-container">
            <div class="form-control">
              <div class="switch">
                <label>
                  <input type="checkbox" id="s2-cell-switch">
                  <span class="lever"></span>
                  {{ i18n('S2 cells') }}
                </label>
              </div>
            </div>
            <div id="s2-filters-wrapper">
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="s2-level10-switch">
                    <span class="lever"></span>
                    {{ i18n('Weather cells') }} (S2 L10)
                  </label>
                </div>
              </div>
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="s2-level13-switch">
                    <span class="lever"></span>
                    {{ i18n('Ex trigger cells') }} (S2 L13)
                  </label>
                </div>
              </div>
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="s2-level14-switch">
                    <span class="lever"></span>
                    {{ i18n('Gym cells') }} (S2 L14)
                  </label>
                </div>
              </div>
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="s2-level17-switch">
                    <span class="lever"></span>
                    {{ i18n('PokéStop cells') }} (S2 L17)
                  </label>
                </div>
              </div>
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="s2-cells-warning-switch">
                    <span class="lever"></span>
                    {{ i18n('Warn about hidden cells') }}
                  </label>
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      {% endif %}
      {% if settings.spawnpoints or settings.scannedLocs or settings.nestParks or settings.exParks or settings.ranges or settings.pokemonNests %}
      <li>
        <div class="collapsible-header"><i class="material-icons">map</i>{{ i18n('Map misc') }}</div>
        <div class="collapsible-body">
          <div class="settings-container">
            {% if settings.spawnpoints %}
            <div class="form-control">
              <div class="switch">
                <label>
                  <input type="checkbox" id="spawnpoint-switch">
                  <span class="lever"></span>
                  {{ i18n('Spawn points') }}
                </label>
              </div>
            </div>
            {% endif %}
            {% if settings.scannedLocs %}
            <div class="form-control">
              <div class="switch">
                <label>
                  <input type="checkbox" id="scanned-locs-switch">
                  <span class="lever"></span>
                  {{ i18n('Scanned locations') }}
                </label>
              </div>
            </div>
            {% endif %} 
              {% if settings.pokemonNests %}
            <div class="form-control">
              <div class="switch">
                <label>
                  <input type="checkbox" id="pokemon-nests-park-switch">
                  <span class="lever"></span>
                  {{ i18n('Pokemons nests') }}
                </label>
              </div>
            </div>
            {% endif %}
            {% if settings.nestParks %}
            <div class="form-control">
              <div class="switch">
                <label>
                  <input type="checkbox" id="nest-park-switch">
                  <span class="lever"></span>
                  {{ i18n('Nest parks') }}
                </label>
              </div>
            </div>
            {% endif %}
            {% if settings.exParks %}
            <div class="form-control">
              <div class="switch">
                <label>
                  <input type="checkbox" id="ex-park-switch">
                  <span class="lever"></span>
                  {{ i18n('EX eligible parks') }}
                </label>
              </div>
            </div>
            {% endif %}
            <div class="form-control">
              <div class="switch">
                <label>
                  <input type="checkbox" id="ranges-switch">
                  <span class="lever"></span>
                  {{ i18n('Interaction ranges') }}
                </label>
              </div>
            </div>
            <div id="range-type-select-wrapper">
              <div class="form-control">
                <div class="input-field">
                  <div class="select-title">{{ i18n('Filter interaction ranges') }}</div>
                  <select id="range-type-select" multiple>
                    <option value="1">{{ i18n('Pokémon ranges') }}</option>
                    <option value="2">{{ i18n('Gym ranges') }}</option>
                    <option value="3">{{ i18n('PokéStop ranges') }}</option>
                    <option value="4">{{ i18n('Spawn point ranges') }}</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      {% endif %}
      <li>
        <div class="collapsible-header"><i class="material-icons">place</i>{{ i18n('Location') }}</div>
        <div class="collapsible-body">
          <div class="settings-container">
            <div id="start-at-user-location-wrapper">
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="start-at-user-location-switch">
                    <span class="lever"></span>
                    {{ i18n('Start map at my position') }}
                  </label>
                </div>
              </div>
            </div>
            <div class="form-control">
              <div class="switch">
                <label>
                  <input type="checkbox" id="start-at-last-location-switch">
                  <span class="lever"></span>
                  {{ i18n('Start map at last position') }}
                </label>
              </div>
            </div>
            {% if settings.isStartMarkerMovable %}
            <div class="form-control">
              <div class="switch">
                <label>
                  <input type="checkbox" id="lock-start-marker-switch">
                  <span class="lever"></span>
                  {{ i18n('Lock start location marker') }}
                </label>
              </div>
            </div>
            {% endif %}
            <div id="follow-user-location-wrapper">
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="follow-user-location-switch">
                    <span class="lever"></span>
                    {{ i18n('Follow me') }}
                  </label>
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      <li>
        <div class="collapsible-header"><i class="material-icons">notifications</i>{{ i18n('Notifications') }}</div>
        <div class="collapsible-body">
          {% if settings.pokemons %}
          <div class="settings-container">
            <div class="form-control">
              <div class="switch">
                <label>
                  <input type="checkbox" id="pokemon-notifs-switch">
                  <span class="lever"></span>
                  {{ i18n('Pokémon notifs') }}
                </label>
              </div>
            </div>
            <div id="pokemon-notif-filters-wrapper">
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="pokemon-id-notifs-switch">
                    <span class="lever"></span>
                    {{ i18n('Notifs filtered by ID') }}
                  </label>
                  <a data-target="notif-pokemon-filter-modal" class="waves-effect btn-flat modal-trigger filter-button" title="{{ i18n('Select Pokémon') }}"><i class="material-icons left">filter_list</i></a>
                </div>
              </div>
              {% if settings.pokemonValues %}
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="pokemon-values-notifs-switch">
                    <span class="lever"></span>
                    {{ i18n('Notifs filtered by values') }}
                  </label>
                  <a data-target="notif-pokemon-values-filter-modal" class="waves-effect btn-flat modal-trigger filter-button" title="{{ i18n('Select Pokémon') }}"><i class="material-icons left">filter_list</i></a>
                </div>
              </div>
              <div id="pokemon-values-notif-filters-wrapper">
                <div id="zero-ivs-pokemon-notifs-switch-wrapper">
                  <div class="form-control">
                    <div class="switch">
                      <label>
                        <input type="checkbox" id="zero-ivs-pokemon-notifs-switch">
                        <span class="lever"></span>
                        {{ i18n('0% IV Pokémon notifs') }}
                      </label>
                    </div>
                  </div>
                </div>
                <div id="hundo-ivs-pokemon-notifs-switch-wrapper">
                  <div class="form-control">
                    <div class="switch">
                      <label>
                        <input type="checkbox" id="hundo-ivs-pokemon-notifs-switch">
                        <span class="lever"></span>
                        {{ i18n('100% IV Pokémon notifs') }}
                      </label>
                    </div>
                  </div>
                </div>
                <div class="form-control">
                  <span id="pokemon-ivs-notifs-slider-title" class="slider-title">Notif IVs</span>
                  <div class="slider-container">
                    <div id="pokemon-ivs-notifs-slider"></div>
                  </div>
                </div>
                <div class="form-control">
                  <span id="pokemon-level-notifs-slider-title" class="slider-title">Notif Levels</span>
                  <div class="slider-container">
                    <div id="pokemon-level-notifs-slider"></div>
                  </div>
                </div>
              </div>
              {% if settings.rarity %}
              <div class="form-control">
                <div class="input-field">
                  <div class="select-title">{{ i18n('Rarity notifs') }}</div>
                  <select id="rarity-notifs-select" multiple>
                    <option value="1">{{ i18n('Common') }}</option>
                    <option value="2">{{ i18n('Uncommon') }}</option>
                    <option value="3">{{ i18n('Rare') }}</option>
                    <option value="4">{{ i18n('Very Rare') }}</option>
                    <option value="5">{{ i18n('Ultra Rare') }}</option>
                    <option value="6">{{ i18n('New Spawn') }}</option>
                  </select>
                </div>
              </div>
              {% endif %}
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="tiny-rattata-notifs-switch">
                    <span class="lever"></span>
                    {{ i18n('Tiny Rattata notifs') }}
                  </label>
                </div>
              </div>
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="big-magikarp-notifs-switch">
                    <span class="lever"></span>
                    {{ i18n('Big Magikarp notifs') }}
                  </label>
                </div>
              </div>
              {% endif %}
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="notif-pokemon-only-switch">
                    <span class="lever"></span>
                    {{ i18n('Show notif Pokémon only') }}
                  </label>
                </div>
              </div>
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="notif-pokemon-always-switch">
                    <span class="lever"></span>
                    {{ i18n('Always show notif Pokémon') }}
                  </label>
                </div>
              </div>
              {% if settings.pokemonCries %}
              <div id="pokemon-cries-switch-wrapper">
                <div class="form-control">
                  <div class="switch">
                    <label>
                      <input type="checkbox" id="pokemon-cries-switch">
                      <span class="lever"></span>
                      {{ i18n('Use Pokémon cries') }}
                    </label>
                  </div>
                </div>
              </div>
              {% endif %}
            </div>
          </div>
          {% endif %}
          {% if settings.raids %}
          <div class="settings-container">
            <div class="form-control">
              <div class="switch">
                <label>
                  <input type="checkbox" id="raid-notifs-switch">
                  <span class="lever"></span>
                  {{ i18n('Raid notifs') }}
                </label>
              </div>
            </div>
            <div id="raid-notif-filters-wrapper">
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="raid-pokemon-notifs-switch">
                    <span class="lever"></span>
                    {{ i18n('Raid Boss notifs') }}
                  </label>
                  <a data-target="notif-raid-pokemon-filter-modal" class="waves-effect btn-flat modal-trigger filter-button" title="{{ i18n('Select Pokémon') }}"><i class="material-icons left">filter_list</i></a>
                </div>
              </div>
              <div class="form-control">
                <div class="input-field">
                  <div class="select-title">{{ i18n('Egg notifs') }}</div>
                  <select id="egg-notifs-select" multiple>
                    <option value="1">{{ i18n('Level 1') }}</option>
                    <option value="2">{{ i18n('Level 2') }}</option>
                    <option value="3">{{ i18n('Level 3') }}</option>
                    <option value="4">{{ i18n('Level 4') }}</option>
                    <option value="5">{{ i18n('Level 5') }}</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
          {% endif %}
          {% if settings.quests or settings.invasions or settings.lures %}
          <div class="settings-container">
            <div class="form-control">
              <div class="switch">
                <label>
                  <input type="checkbox" id="pokestop-notifs-switch">
                  <span class="lever"></span>
                  {{ i18n('PokéStop notifs') }}
                </label>
              </div>
            </div>
            <div id="pokestop-notif-filters-wrapper">
              {% if settings.quests %}
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="quest-notifs-switch">
                    <span class="lever"></span>
                    {{ i18n('Quest notifs') }}
                  </label>
                  <a data-target="notif-quest-filter-modal" class="waves-effect btn-flat modal-trigger filter-button" title="{{ i18n('Select rewards') }}"><i class="material-icons left">filter_list</i></a>
                </div>
              </div>
              {% endif %}
              {% if settings.invasions %}
              <div class="form-control">
                <div class="switch">
                  <label>
                    <input type="checkbox" id="invasion-notifs-switch">
                    <span class="lever"></span>
                    {{ i18n('Rocket Invasion notifs') }}
                  </label>
                  <a data-target="notif-invasion-filter-modal" class="waves-effect btn-flat modal-trigger filter-button" title="{{ i18n('Select Rocket Invasions') }}"><i class="material-icons left">filter_list</i></a>
                </div>
              </div>
              {% endif %}
              {% if settings.lures %}
              <div class="form-control">
                <div class="input-field">
                  <div class="select-title">{{ i18n('Lure notifs') }}</div>
                  <select id="lure-notifs-select" multiple>
                    <option value="501">{{ i18n('Normal Lures') }}</option>
                    <option value="502">{{ i18n('Glacial Lures') }}</option>
                    <option value="504">{{ i18n('Magnetic Lures') }}</option>
                    <option value="503">{{ i18n('Mossy Lures') }}</option>
                  </select>
                </div>
              </div>
              {% endif %}
            </div>
          </div>
          {% endif %}
          <div class="settings-container">
            <div class="form-control">
              <div class="switch">
                <label>
                  <input type="checkbox" id="browser-popups-switch">
                  <span class="lever"></span>
                  {{ i18n('Browser popups') }}
                </label>
              </div>
            </div>
            <div class="form-control">
              <div class="switch">
                <label>
                  <input type="checkbox" id="notif-sound-switch">
                  <span class="lever"></span>
                  {{ i18n('Play sound on notif') }}
                </label>
              </div>
            </div>
            <div class="form-control">
              <div class="switch">
                <label>
                  <input type="checkbox" id="upscale-notif-markers-switch">
                  <span class="lever"></span>
                  {{ i18n('Upscale notif markers') }}
                </label>
              </div>
            </div>
            <div class="form-control">
              <div class="switch">
                <label>
                  <input type="checkbox" id="bounce-notif-markers-switch">
                  <span class="lever"></span>
                  {{ i18n('Bounce notif markers') }}
                </label>
              </div>
            </div>
          </div>
        </div>
      </li>
      <li>
        <div class="collapsible-header"><i class="material-icons">palette</i>{{ i18n('Style') }}</div>
        <div class="collapsible-body">
          <div class="settings-container">
            <div class="form-control">
              <div class="input-field">
                <div class="select-title">{{ i18n('Map style') }}</div>
                <select id="map-style-select">
                  <option value="mapnik">Mapnik</option>
                  <option value="wikimedia">Wikimedia</option>
                  <option value="topomap">ToPo Map</option>
                  <option value="cartodbdarkmatter">CartoDB Darkmatter</option>
                  <option value="cartodbdarkmatternolabels">CartoDB Darkmatter ({{ i18n('no labels') }})</option>
                  <option value="cartodbpositron">CartoDB Positron</option>
                  <option value="cartodbpositronnolabels">CartoDB Positron ({{ i18n('no labels') }})</option>
                  <option value="satellite">{{ i18n('Satellite') }}</option>
                </select>
              </div>
            </div>
            <div class="form-control">
              <div class="input-field">
                <div class="select-title">{{ i18n('Map service provider') }}</div>
                <select id="map-service-provider-select">
                  <option value="googlemaps">Google Maps</option>
                  <option value="applemaps">Apple Maps</option>
                  <option value="bingmaps">Bing Maps</option>
                  <option value="openstreetmap">OpenStreetMap</option>
                  <option value="waze">Waze</option>
                </select>
              </div>
            </div>
            <div class="form-control">
              <div class="input-field">
                <div class="select-title">{{ i18n('Start location marker icon') }}</div>
                <select id="start-location-marker-icon-select">
                  <!-- Options are dynamically added. -->
                </select>
              </div>
            </div>
            <div class="form-control">
              <div class="input-field">
                <div class="select-title">{{ i18n('My location marker icon') }}</div>
                <select id="user-location-marker-icon-select">
                  <!-- Options are dynamically added. -->
                </select>
              </div>
            </div>
            <div class="form-control">
              <div class="switch">
                <label>
                  <input type="checkbox" id="dark-mode-switch">
                  <span class="lever"></span>
                  {{ i18n('Dark mode') }}
                </label>
              </div>
            </div>
          </div>
        </div>
      </li>
      <li>
        <div class="collapsible-header"><i class="material-icons">settings_backup_restore</i>{{ i18n('Backup & reset') }}</div>
        <div class="collapsible-body">
          <div class="settings-container">
            <div class="form-control">
              <input id="settings-file-input" type="file" accept=".txt" style="display:none;">
              <div><a id="import-settings-button" class="waves-effect waves-light btn" onclick="document.getElementById('settings-file-input').click()"><i class="material-icons left">file_download</i>{{ i18n('Import settings') }}</a></div>
            </div>
            <div class="form-control">
              <div><a id="export-settings-button" class="waves-effect waves-light btn"><i class="material-icons left">file_upload</i>{{ i18n('Export settings') }}</a></div>
            </div>
            <div class="form-control">
              <div><a id="reset-settings-button" class="waves-effect waves-light btn"><i class="material-icons left">autorenew</i>{{ i18n('Reset settings') }}</a></div>
            </div>
          </div>
          {% if settings.pokemons or settings.raids or settings.quests %}
          <div class="settings-container">
            <div class="form-control">
              <div><a class="waves-effect waves-light btn modal-trigger" href="#import-pokemon-list-modal"><i class="material-icons left">file_download</i>{{ i18n('Import Pokémon list') }}</a></div>
            </div>
            <div class="form-control">
              <div><a class="waves-effect waves-light btn modal-trigger" href="#export-pokemon-list-modal"><i class="material-icons left">file_upload</i>{{ i18n('Export Pokémon lists') }}</a></div>
            </div>
          </div>
          {% endif %}
        </div>
      </li>
    </ul>

    <ul id="stats-sidenav" class="sidenav">
      <ul id="stats-tabs" class="tabs tabs-fixed-width">
        {% if settings.pokemons %}
        <li class="tab" title="{{ i18n('Pokémon') }}"><a href="#pokemon-stats-tab"><i class="material-icons">pets</i></a></li>
        {% endif %}
        {% if settings.gyms and settings.raids %}
        <li class="tab" title="{{ i18n('Gyms & Raids') }}"><a href="#gym-stats-tab"><i class="material-icons">security</i></a></li>
        {% elif settings.gyms %}
        <li class="tab" title="{{ i18n('Gyms') }}"><a href="#gym-stats-tab"><i class="material-icons">security</i></a></li>
        {% elif settings.raids %}
        <li class="tab" title="{{ i18n('Raids') }}"><a href="#gym-stats-tab"><i class="material-icons">security</i></a></li>
        {% endif %}
        {% if settings.pokestops %}
        <li class="tab" title="{{ i18n('PokéStops') }}"><a href="#pokestop-stats-tab"><i class="material-icons">nature</i></a></li>
        {% endif %}
      </ul>
      {% if settings.pokemons %}
      <div id="pokemon-stats-tab">
        <table id="pokemon-table" class="order-column row-border hover" width="100%">
          <thead>
            <tr>
              <th></th>
              <th>{{ i18n('ID') }}</th>
              <th>{{ i18n('Name') }}</th>
              <th>#</th>
              <th>%</th>
            </tr>
          </thead>
          <tbody>
          </tbody>
        </table>
      </div>
      {% endif %}
      {% if settings.gyms or settings.raids %}
      <div id="gym-stats-tab">
        {% if settings.gyms %}
        <h6 id="gym-table-title">Gyms</h6>
        <table id="gym-table" class="order-column row-border top-border hover" width="100%">
          <thead>
            <tr>
              <th></th>
              <th>{{ i18n('Team') }}</th>
              <th>#</th>
              <th>%</th>
            </tr>
          </thead>
          <tbody>
          </tbody>
        </table>
        {% endif %}
        {% if settings.raids %}
        <h6 id="egg-table-title">Eggs</h6>
        <table id="egg-table" class="order-column row-border top-border hover" width="100%">
          <thead>
            <tr>
              <th></th>
              <th>{{ i18n('Level') }}</th>
              <th>#</th>
              <th>%</th>
            </tr>
          </thead>
          <tbody>
          </tbody>
        </table>
        <h6 id="raid-pokemon-table-title">Raid Bosses</h6>
        <table id="raid-pokemon-table" class="order-column row-border top-border hover" width="100%">
          <thead>
            <tr>
              <th></th>
              <th>{{ i18n('LVL') }}</th>
              <th>{{ i18n('ID') }}</th>
              <th>{{ i18n('Name') }}</th>
              <th>#</th>
              <th>%</th>
            </tr>
          </thead>
          <tbody>
          </tbody>
        </table>
        {% endif %}
      </div>
      {% endif %}
      {% if settings.pokestops %}
      <div id="pokestop-stats-tab">
        <table id="pokestop-table" class="order-column row-border hover" width="100%">
          <thead>
            <tr>
              <th></th>
              <th>{{ i18n('Status') }}</th>
              <th>#</th>
              <th>%</th>
            </tr>
          </thead>
          <tbody>
          </tbody>
        </table>
      </div>
      {% endif %}
    </ul>

    {% if settings.gyms or settings.raids %}
    <ul id="gym-sidebar" class="sidenav">
      <i class="material-icons sidenav-close">close</i>
      <div class="center-align">
        <h5 id="sidebar-gym-title"></h5>
        <div class="gym-sidebar-subheader-container">
          <div class="team"></div>
        </div>
        <div class="gym-sidebar-image-container">
          <img id="sidebar-gym-image" class="gym-image" width=162 height=162>
        </div>
        <div class="gym-sidebar-info-container">
          <div class="gym-sidebar-info-container-left">
            <div>
              {{ i18n('Free slots') }}:
            </div>
            <div id="sidebar-gym-leader-container">
              {{ i18n('Gym leader') }}:
            </div>
            <div>
              {{ i18n('Last scanned') }}:
            </div>
            <div>
              {{ i18n('Last modified') }}:
            </div>
          </div>
          <div class="gym-sidebar-info-container-right">
            <div>
              <strong><span id="sidebar-gym-free-slots"></span></strong>
            </div>
            <div id="sidebar-gym-leader-container">
              <strong><span id="sidebar-gym-leader"></span></strong>
            </div>
            <div>
              <strong><span id="sidebar-gym-last-scanned"></span></strong>
            </div>
            <div>
              <strong><span id="sidebar-gym-last-modified"></span></strong>
            </div>
          </div>
        </div>
        <div id="sidebar-gym-coordinates-container"></div>
        {% if settings.raids %}
        <div id="sidebar-ongoing-raid-container">
          <div class="divider"></div>
          <h5 id="sidebar-ongoing-raid-title"></h5>
          <div class="gym-sidebar-subheader-container">
            <div id="sidebar-ongoing-raid-level-container"></div>
            <div id="sidebar-ongoing-raid-end-container"></div>
          </div>
          <div class="gym-sidebar-image-container">
            <div>
              <img id="sidebar-raid-pokemon-image" width=128>
            </div>
            <div id="sidebar-raid-types-container"></div>
          </div>
          <div class="gym-sidebar-info-container">
            <div class="gym-sidebar-info-container-left">
              <div>
                {{ i18n('CP') }}:
              </div>
              <div>
                {{ i18n('Fast move') }}:
              </div>
              <div>
                {{ i18n('Charge move') }}:
              </div>
            </div>
            <div class="gym-sidebar-info-container-right">
              <div>
                <strong><span id="sidebar-raid-cp"></span></strong>
              </div>
              <div>
                <strong><span id="sidebar-raid-fast-move"></span></strong>
              </div>
              <div>
                <strong><span id="sidebar-raid-charge-move"></span></strong>
              </div>
            </div>
          </div>
        </div>
        <div id="sidebar-upcoming-raid-container">
          <div class="divider"></div>
          <h5 id="sidebar-upcoming-raid-title"></h5>
          <div class="gym-sidebar-subheader-container">
            <div id="sidebar-upcoming-raid-start-container"></div>
            <div id="sidebar-upcoming-raid-end-container"></div>
          </div>
          <img id="sidebar-raid-egg-image" width=96>
        </div>
        {% endif %}
      </div>
    </ul>
    {% endif %}

    <div class="map-container">
      <div id="map" class="leaflet-map"></div>
    </div>

    <script>
      const serverSettings = {{settings|tojson|safe}};
    </script>

    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet-fullscreen@1.0.2/dist/Leaflet.fullscreen.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet-geosearch@2.7.0/dist/bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet.smooth_marker_bouncing@1.3.0/leaflet.smoothmarkerbouncing.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/materialize-css@1.0.0/dist/js/materialize.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/materialize-css@1.0.0/extras/noUiSlider/nouislider.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment@2.24.0/moment.min.js"></script>
    <script src="https://cdn.datatables.net/v/dt/dt-1.10.20/datatables.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/push.js@1.0.12/bin/push.min.js"></script>

    <script src="{{ url_for('static', filename='dist/js/map.min.js') }}"></script>
  </body>
</html>
